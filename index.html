<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="CRUMB - Technology that breathes with you. A companion that learns your rhythms and asks nothing in return."/>
  <title>CRUMB V1.11 — Field Console</title>

  <!--
  ======================================================================
   CRUMB FIELD-CONSOLE INTRO
   ----------------------------------------------------------------------
   Mission: Present a restrained, operationally realistic terminal that
   gates entry to the primary site. The console instructs non-technical
   users (explicit 'type "start" to continue' + 'help' command) and shows
   clean, auditable code to any engineer reviewing the source.

   Interaction model (triggered mode):
     1) Typewriter boot log appears on load and then awaits a command.
     2) User types `start` -> short init sequence -> console collapses.
     3) Main site fades/appears; rest of original content remains intact.

   Accessibility & UX:
     - Respects reduced motion. If reduced motion is set, we skip the
       typewriter effect but keep the command flow.
     - Keyboard-first: auto-focuses the input; clear focus styles.
     - Clear copy: tells users exactly what to do and that 'help' exists.

   Implementation:
     - Fully client-side; no network calls.
     - Minimal new CSS; original styles preserved.
     - All logic encapsulated in one <script> with heavy commentary.
  ======================================================================
  -->

  <style>
    /* ========================================
       MINIMAL BLACK & WHITE DESIGN SYSTEM
       (original palette preserved)
       ======================================== */
    :root {
      --bg: #000000;
      --bg-elev: #0A0A0A;
      --panel: #111111;
      --border: #333333;
      --text: #FFFFFF;
      --muted: #999999;
      --accent: #FFFFFF;
      --accent-quiet: #666666;
      --ok: #FFFFFF;   /* we keep white for monochrome aesthetic */
      --warn: #FFFFFF;
      --err: #FFFFFF;
      --shadow: 0 2px 12px rgba(0,0,0,0.5);
      --radius: 0px;
      --radius-sm: 0px;
      --maxw: 1200px;
      --grid-gap: 16px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ========================================
       BOOT CONSOLE (new, sits above hero)
       ======================================== */
    #boot-console {
      border-bottom: 1px solid var(--border);
      background: var(--panel);
    }

    .boot-inner {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 2rem;
    }
/* ========================================
   Skip Button — minimal, visible top-right
   ======================================== */
.skip-btn {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: transparent;
  border: 1px solid var(--text);
  color: var(--text);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 0.8rem;
  letter-spacing: 0.05em;
  padding: 0.4rem 0.8rem;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
  z-index: 200;
}
.skip-btn:hover,
.skip-btn:focus {
  background: var(--text);
  color: var(--bg);
  outline: none;
}

    .boot-title {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.9rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }

    .boot-log {
      background: var(--bg-elev);
      border: 1px solid var(--border);
      padding: 1rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      font-size: 0.95rem;
      line-height: 1.5;
      white-space: pre-wrap;
      box-shadow: var(--shadow);
    }

    .boot-io { /* prompt + input live row */
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.75rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    }

    .boot-prompt { color: var(--text); }

    .boot-input {
      flex: 1;
      background: transparent;
      border: none;
      border-bottom: 1px dashed var(--border);
      color: var(--text);
      outline: none;
      padding: 0.25rem 0.25rem 0.35rem;
      font: inherit;
    }
    .boot-input::placeholder { color: var(--muted); }
    .boot-input:focus { border-bottom-color: var(--text); }

    .boot-output {
      margin-top: 0.5rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      color: var(--muted);
    }

    /* Console collapse + main reveal */
    .collapse {
      overflow: hidden;
      transition: max-height 1.2s ease, opacity 1.2s ease;
      max-height: 1000px; /* large enough to show content before collapse */
      opacity: 1;
    }
    .collapse.is-collapsed {
      max-height: 0;
      opacity: 0;
    }

    /* While locked, hide the rest of the site (hero + below) */
    .locked .main-content { opacity: 0; pointer-events: none; }
    .unlocked .main-content { opacity: 1; pointer-events: auto; transition: opacity 500ms ease; }

    /* ========================================
       HEADER - Tactical navigation bar (original)
       ======================================== */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(11, 15, 20, 0.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 2rem;
    }
    header > div { max-width: var(--maxw); margin: 0 auto; display: flex; justify-content: space-between; align-items: center; gap: 2rem; }
    header h1 { font-weight: 600; letter-spacing: 3px; font-size: 1.1rem; color: var(--text); text-transform: uppercase; flex-shrink: 0; }
    .header-logo { width: 40px; height: 40px; margin-left: auto; filter: invert(1); animation: breathe 4s ease-in-out infinite; }
    @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.9; } }
    nav ul { display: flex; gap: 2rem; list-style: none; }
    nav a { color: var(--muted); text-decoration: none; font-size: 0.9rem; font-weight: 500; letter-spacing: 0.3px; transition: color 160ms; position: relative; }
    nav a:hover { color: var(--text); }
    nav a:focus-visible { outline: 2px solid var(--text); outline-offset: 4px; color: var(--text); }

    /* ========================================
       HERO - The human form as interface (original)
       ======================================== */
    .hero { max-width: var(--maxw); margin: 0 auto; padding: 4rem 2rem 6rem; display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
    .hero-content { order: 1; }
    .hero-figure { order: 2; display: flex; justify-content: center; align-items: center; }
    .hero-figure img { width: 100%; max-width: 400px; height: auto; filter: invert(1); animation: presence 6s ease-in-out infinite; }
    @keyframes presence { 0%, 100% { transform: translateY(0) scale(1); opacity: 1; } 50% { transform: translateY(-10px) scale(1.02); opacity: 0.95; } }
    .hero h2 { font-size: clamp(2.2rem, 6vw, 3.8rem); font-weight: 600; line-height: 1.15; margin-bottom: 1.5rem; letter-spacing: -0.02em; color: var(--text); }
    .hero > p, .hero-content > p { max-width: 700px; color: var(--muted); font-size: 1.15rem; line-height: 1.7; margin-bottom: 2.5rem; }

    /* ========================================
       SECTIONS - Operational panels (original)
       ======================================== */
    section { max-width: var(--maxw); margin: 5rem auto; padding: 0 2rem; }
    section h3 { font-size: 1.6rem; font-weight: 600; margin-bottom: 0.5rem; letter-spacing: -0.01em; color: var(--text); text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1.5px; color: var(--muted); margin-bottom: 1rem; }
    section h3::before { content: ''; display: inline-block; width: 3px; height: 14px; background: var(--text); margin-right: 10px; vertical-align: middle; }
    section > h3:first-child { font-size: 1.6rem; font-weight: 600; letter-spacing: -0.01em; color: var(--text); text-transform: none; margin-bottom: 1.5rem; }
    section > h3:first-child::before { display: none; }
    section p { color: var(--muted); max-width: 800px; margin-bottom: 1.5rem; line-height: 1.75; }

    /* ========================================
       ABOUT SECTION - Mission briefing (original)
       ======================================== */
    #about { background: var(--panel); border: 1px solid var(--border); border-radius: 0; padding: 3rem; max-width: 900px; line-height: 1.8; }
    #about h3 { font-size: 1.8rem; text-transform: none; letter-spacing: -0.01em; margin-bottom: 2rem; color: var(--text); }
    #about h3::before { display: none; }
    #about p { margin-bottom: 1.5rem; color: var(--muted); max-width: 100%; }
    #about strong { color: var(--text); font-weight: 600; }
    #about em { color: var(--muted); font-style: italic; display: block; margin-top: 1rem; padding-left: 1rem; border-left: 2px solid var(--border); }
    #about h4 { margin-top: 2.5rem; font-size: 1.3rem; color: var(--text); margin-bottom: 1rem; font-weight: 600; }
    #about ul { list-style: none; padding: 0; margin-top: 1.5rem; }
    #about ul li { margin-bottom: 1.5rem; padding-left: 0; color: var(--muted); line-height: 1.7; }
    #about ul li strong { display: block; color: var(--text); margin-bottom: 0.3rem; font-weight: 600; }

    /* ========================================
       PRODUCTS - Asset inventory (original)
       ======================================== */
    .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--grid-gap); margin-top: 2.5rem; }
    .product-card { background: var(--bg-elev); border: 1px solid var(--border); border-radius: 0; overflow: hidden; display: flex; flex-direction: column; transition: border 160ms, transform 160ms; }
    .product-card:hover { border-color: var(--text); transform: translateY(-2px); }
    .product-card:focus-within { outline: 2px solid var(--text); outline-offset: 2px; }
    .product-card img { width: 100%; height: 240px; object-fit: cover; display: block; border-bottom: 1px solid var(--border); }
    .product-card h4 { font-size: 1.15rem; font-weight: 600; margin: 1.5rem 1.5rem 0.5rem; color: var(--text); letter-spacing: -0.01em; }
    .product-card p { color: var(--muted); font-size: 0.95rem; line-height: 1.6; margin: 0 1.5rem 1.5rem; }

    /* ========================================
       PHILOSOPHY SECTION (original)
       ======================================== */
    .section-header { margin-bottom: 2rem; }
    .section-title { font-size: 1.6rem; font-weight: 600; letter-spacing: -0.01em; color: var(--text); margin-bottom: 0.5rem; }
    .section-subtitle { color: var(--muted); font-size: 1rem; }
    .story-content p { margin-bottom: 1.5rem; line-height: 1.75; }

    /* ========================================
       HIGHLIGHT - Minimal emphasis (original)
       ======================================== */
    .highlight { color: var(--text); text-decoration: none; font-weight: 600; position: relative; border-bottom: 1px solid var(--text); }

    /* ========================================
       CTA - Action controls (original)
       ======================================== */
    .cta-row { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 2.5rem; }
    .cta { display: inline-block; padding: 0.85rem 1.75rem; background: transparent; color: var(--text); text-decoration: none; font-size: 0.9rem; font-weight: 600; letter-spacing: 0.5px; border: 2px solid var(--text); border-radius: 0; transition: background 160ms, color 160ms; }
    .cta:hover { background: var(--text); color: var(--bg); }
    .cta:focus-visible { outline: 2px solid var(--text); outline-offset: 3px; }
    .cta:active { transform: translateY(0); }

    /* ========================================
       FOOTER - System information (original)
       ======================================== */
    footer { border-top: 1px solid var(--border); text-align: center; padding: 2.5rem 2rem; color: var(--muted); font-size: 0.85rem; margin-top: 6rem; background: var(--panel); }

    /* ========================================
       ACCESSIBILITY & RESPONSIVENESS (original)
       ======================================== */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
    }
    @media (max-width: 768px) {
      header { padding: 1rem 1.5rem; }
      header h1 { font-size: 1rem; }
      .header-logo { width: 32px; height: 32px; }
      nav ul { gap: 1.25rem; flex-wrap: wrap; }
      nav a { font-size: 0.85rem; }
      .hero { grid-template-columns: 1fr; padding: 3rem 1.5rem 4rem; gap: 2rem; }
      .hero-content { order: 2; }
      .hero-figure { order: 1; }
      .hero-figure img { max-width: 250px; }
      .hero h2 { font-size: 2rem; }
      .hero > p, .hero-content > p { font-size: 1rem; }
      section { padding: 0 1.5rem; margin: 3rem auto; }
      #about { padding: 2rem 1.5rem; }
      .products-grid { grid-template-columns: 1fr; }
      .cta-row { flex-direction: column; }
      .cta { width: 100%; text-align: center; }
    }
    @media (max-width: 480px) {
      header h1 { font-size: 0.95rem; letter-spacing: 2px; }
      .header-logo { width: 28px; height: 28px; }
      nav ul { gap: 1rem; }
      nav a { font-size: 0.8rem; }
      .hero { padding: 2rem 1rem 3rem; }
      .hero-figure img { max-width: 180px; }
      section { padding: 0 1rem; }
      #about { padding: 1.5rem 1rem; }
    }

    /* ========================================
       PRINT STYLES (original)
       ======================================== */
    @media print {
      body { background: white; color: black; }
      header { position: static; background: white; border-bottom: 1px solid black; }
      .cta { border: 1px solid black; background: white; color: black; }
      .product-card { break-inside: avoid; }
    }
    /* ========================================
   HEARTBEAT — CRUMB LIFESIGN INDICATOR
   ======================================== */
#heartbeat {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  width: 12px;
  height: 12px;
  background: #ff3b3b;
  border-radius: 50%;
  box-shadow: 0 0 8px #ff3b3b;
  animation: pulse 1.6s infinite ease-in-out;
  opacity: 0.85;
  z-index: 50;
  display: none; /* hidden until system start */
}

@keyframes pulse {
  0%   { transform: scale(1);   opacity: 0.7; }
  25%  { transform: scale(1.25); opacity: 1; }
  40%  { transform: scale(1);   opacity: 0.6; }
  60%  { transform: scale(1.3); opacity: 1; }
  100% { transform: scale(1);   opacity: 0.7; }
}
  </style>
</head>
<body class="locked"><!-- body starts locked; main content hidden until `start` -->

  <!-- =====================================================
       COMMAND BAR / HEADER (original, unchanged)
       ===================================================== -->
  <header>
    <div>
      <h1>CRUMB</h1>
      <nav>
        <ul>
          <li><a href="#mission">Mission</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#products">Products</a></li>
          <li><a href="#involve">Get Involved</a></li>
        </ul>
      </nav>
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 200'%3E%3Ccircle cx='50' cy='20' r='15' fill='none' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='35' x2='50' y2='100' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='50' x2='20' y2='80' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='50' x2='80' y2='80' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='100' x2='20' y2='150' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='100' x2='80' y2='150' stroke='black' stroke-width='3'/%3E%3C/svg%3E" alt="CRUMB Human-AI Icon" class="header-logo" />
    </div>
  </header>

  <!-- =====================================================
       BOOT CONSOLE (new) — operational realistic
       ===================================================== -->
  <section id="boot-console" class="collapse">
    <!-- Skip button for non-technical users -->
<button id="skipBoot" class="skip-btn" aria-label="Skip boot sequence">
  Skip Boot Sequence
</button>
    <div class="boot-inner">
      <div class="boot-title">BOOT CONSOLE</div>
      <pre class="boot-log" id="bootLog" aria-live="polite" aria-atomic="false"></pre>
      <div class="boot-io" id="bootIO" style="display:none">
        <span class="boot-prompt">&gt;</span>
        <input id="bootInput" class="boot-input" type="text" inputmode="text" autocomplete="off" spellcheck="false" placeholder="type &quot;start&quot; to continue or &quot;help&quot; for instructions" aria-label="Boot console input" />
      </div>
      <div class="boot-output" id="bootOutput" aria-live="polite"></div>
    </div>
  </section>

  <!-- =====================================================
       MAIN CONTENT (original site wrapped for reveal)
       ===================================================== -->
  <div class="main-content" aria-hidden="true">

    <section class="hero" id="mission">
      <div class="hero-content">
        <h2>Technology that adapts to you.</h2>
        <p>CRUMB is a pocket-sized companion that learns your rhythms, provides gentle structure, and respects your privacy. No cloud. No attention-stealing. Just calm technology that fits in your hand.</p>
        <div class="cta-row">
          <a href="#about" class="cta">Learn More</a>
          <a href="#involve" class="cta">Get Involved</a>
        </div>
      </div>
      <div class="hero-figure">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 200'%3E%3Ccircle cx='50' cy='20' r='15' fill='none' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='35' x2='50' y2='100' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='50' x2='20' y2='80' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='50' x2='80' y2='80' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='100' x2='20' y2='150' stroke='black' stroke-width='3'/%3E%3Cline x1='50' y1='100' x2='80' y2='150' stroke='black' stroke-width='3'/%3E%3C/svg%3E" alt="Human-AI Interface Representation" />
      </div>
    </section>

    <section id="about">
      <h3>About</h3>

      <p>I'm <strong>Wyeth Anzilotti</strong>, a senior at Lehigh University studying computer science and human–computer interaction.</p>

      <p>CRUMB began while watching my brother navigate devices that weren't built for how he thinks. Nothing was broken—the communication was.</p>

      <p>Most systems are designed to capture attention. CRUMB reverses that. It learns your patterns, gives you structure when you need it, and stays quiet otherwise.</p>

      <p><em>Raspberry Pi Zero. NFC. Python. Runs locally. Your data stays yours.</em></p>

      <h4>What CRUMB Does</h4>

      <ul>
        <li><strong>🌅 Morning Structure:</strong> Gentle haptic cues guide you through waking up, hygiene, planning. No screens.</li>
        <li><strong>💡 Focus:</strong> Press once to start. LED shifts as time passes. Vibrates when it's time to rest.</li>
        <li><strong>🌀 Tactile Engagement:</strong> Physical buttons and LED patterns. For hands that think while they move.</li>
        <li><strong>🌙 Mood Tracking:</strong> Voice notes saved locally. Weekly patterns, no cloud.</li>
        <li><strong>💊 Reminders:</strong> Set once. Daily pulse. Button to confirm.</li>
        <li><strong>🔗 Contact Sharing:</strong> Tap two CRUMBs together. NFC transfer. No permissions.</li>
      </ul>
    </section>

    <section id="products">
      <h3>Products</h3>
      <p>Three forms. Same intention.</p>
      <p style="opacity: 0.9; font-style: italic;">Available December 2025</p>
      <div class="products-grid">
        <div class="product-card">
          <img src="BMO.webp" alt="CRUMB Genesis prototype">
          <h4>CRUMB Genesis</h4>
          <p>Pocket-sized. Calculator shell. Voice-responsive, pattern-learning. Built to last.</p>
          <p>33 units in production</p>
        </div>
        <div class="product-card">
          <img src="Gemini_Generated_Image_qjfbgvqjfbgvqjfb.png" alt="CRUMB Cell">
          <h4>CRUMB Cell</h4>
          <p>Touch-responsive. Local AI. Offline, private. Presence without surveillance.</p>
        </div>
        <div class="product-card">
          <img src="Gemini_Generated_Image_1yup7h1yup7h1yup.png" alt="CRUMB Planet">
          <h4>CRUMB Grove</h4>
          <p>Room-scale. Light, motion, sound. The environment becomes aware.</p>
        </div>
      </div>
    </section>

    <section id="Philosophy">
      <div class="section-header">
        <h2 class="section-title">Philosophy</h2>
      </div>
      <div class="story-content">
        <p>We live in an attention economy. CRUMB is a counterdesign</p>
        <p>What happens when technology learns your rhythms instead of breaking them?</p>
        <p>Small enough to fit in your hand. Built to challenge a paradigm.</p>
      </div>
    </section>

    <section id="involve">
      <h3>Get Involved</h3>
      <p>CRUMB is open source. Contribute, follow along, or just watch.</p>
      <div class="cta-row">
        <a class="cta" href="https://github.com/wyetherp/crumb_main" target="_blank" rel="noopener">GitHub</a>
        <a class="cta" href="mailto:wja326@lehigh.edu">Email</a>
        <a class="cta" href="https://linkedin.com/in/wyetherp" target="_blank" rel="noopener">LinkedIn</a>
      </div>
    </section>

    <footer>
      © 2025 CRUMB — Built by Wyeth Anzilotti | Open Source
    </footer>

  </div><!-- /.main-content -->

  <!-- =====================================================
       INTERACTIVE BOOT CONSOLE SCRIPT
       -----------------------------------------------------
       Operational, readable, and self-contained.
       - Typewriter boot sequence (~10s) with reduced-motion respect
       - Commands: help, start
       - On `start`: show short init, then collapse console & reveal site
  ===================================================== -->
  <script>
(function() {
  // --------- DOM references ---------
  const skipBtn = document.getElementById('skipBoot');
  const body = document.body;
  const logEl = document.getElementById('bootLog');
  const ioRow = document.getElementById('bootIO');
  const inputEl = document.getElementById('bootInput');
  const outputEl = document.getElementById('bootOutput');
  const consoleSection = document.getElementById('boot-console');
  const main = document.querySelector('.main-content');

  // --------- Boot text (operational realistic) ---------
const bootLines = [
  'BOOT CONSOLE — CRUMB FIELD INTERFACE',
  '',
  '> initializing CRUMB protocol …',
  '> system diagnostics … passed',
  '',
  'CRUMB is a calm companion — tech that adapts to you.',
  'This console is your entry point.',
  'Type "help" for commands or "start" to open the full site.',
  '',
  '> awaiting user command'
];


  const bootText = bootLines.join('\n');

  // --------- Typewriter parameters ---------
  const totalDurationMs = 10000; // Slower: ~10s for full hypnotic effect
  const speed = Math.max(6, Math.floor(totalDurationMs / Math.max(bootText.length, 1)));
  let i = 0;
  const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function typeBoot() {
    if (reduced) {
      logEl.textContent = bootText;
      showPrompt();
      return;
    }
    logEl.textContent = bootText.slice(0, i++);
    if (i <= bootText.length) {
      setTimeout(typeBoot, speed);
    } else {
      showPrompt();
    }
  }

  // --------- Show prompt/input row and focus it ---------
  function showPrompt() {
    ioRow.style.display = 'flex';
    setTimeout(() => inputEl && inputEl.focus(), 150);
  }

  // --------- Print utilities ---------
  function printUser(cmd) {
    const line = document.createElement('div');
    line.textContent = '> ' + cmd;
    line.style.color = '#FFFFFF';
    outputEl.appendChild(line);
  }
  function print(msg, muted = true) {
    const line = document.createElement('div');
    line.textContent = msg;
    line.style.marginLeft = '1rem';
    line.style.color = muted ? '#999999' : '#FFFFFF';
    outputEl.appendChild(line);
    line.scrollIntoView({ block: 'end' });
  }

const commands = {
  help() {
    printUser('help');
    const lines = [
      'Available commands:',
      '  start ............ Enter full website',
      '  help ............. show available commands',
      '  about ............ learn about CRUMB philosophy',
      '  status ........... system diagnostics',
      '  whoami ........... operator identity',
      '  clear ............ clear terminal output'
    ];
    lines.forEach(line => print(line));
  },

  start() {
    printUser('start');
    runStartSequence();
  },

  about() {
    printUser('about');
    runAboutSequence();
  },

  status() {
    printUser('status');
    const now = new Date();
    const diagnostics = [
      `> CRUMB PROTOCOL: ACTIVE`,
      `> Environment: ${window.location.hostname || 'LOCAL'}`,
      `> Encryption: ENABLED`,
      `> Uptime: ${Math.floor(performance.now() / 60000)} mins`,
      `> Browser Memory: ${Math.round(performance.memory?.usedJSHeapSize / 1e6 || 0)} MB`,
      `> Timestamp: ${now.toISOString()}`
    ];
    diagnostics.forEach(line => print(line));
  },

  whoami() {
    printUser('whoami');
    print('Operator: Wyeth Anzilotti');
    print('Role: Field Engineer');
  },

  clear() {
    outputEl.textContent = '';
  }
};

  // --------- Boot sequence ---------
  function runStartSequence() {
    const seq = [
      '> running initialization sequence …',
      '> synchronizing interface modules …',
      '> verifying local assets …',
      '> deployment complete',
      '> CRUMB interface online'
    ];

    let idx = 0;
    const step = () => {
      if (idx < seq.length) {
        print(seq[idx++]);
        setTimeout(step, 450);
      } else {
        unlockSite();
      }
    };
    step();
  }

  // --------- About sequence ---------
  function runAboutSequence() {
    const seq = [
      '> Operator: Wyeth Anzilotti',
      '> Objective: Create systems that adapt to humans, not the reverse.',
      '> CRUMB is not a product — it’s a philosophy of humane engineering.',
      '> Mission: Field-deploy calm reliable technology.',
      '> Type "start" to initialize the full interface.'
    ];

    let idx = 0;
    const step = () => {
      if (idx < seq.length) {
        print(seq[idx++]);
        setTimeout(step, 450);
      }
    };
    step();
  }

  // --------- Unlock + reveal main site ---------
  function unlockSite(skip = false) {
    body.classList.remove('locked');
    body.classList.add('unlocked');
    document.getElementById('heartbeat').style.display = 'block';
    main && main.setAttribute('aria-hidden', 'false');

    const full = consoleSection.scrollHeight;
    consoleSection.style.maxHeight = full + 'px';
    void consoleSection.offsetHeight;
    consoleSection.classList.add('is-collapsed');
    window.scrollTo({ top: 0, behavior: 'smooth' });

    setTimeout(() => {
      consoleSection.style.display = 'none';
      if (window.location.hash) {
        const target = document.querySelector(window.location.hash);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }, 1200);
  }

  // --------- Input handling ---------
  inputEl.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      const raw = inputEl.value.trim().toLowerCase();
      inputEl.value = '';
      if (!raw) return;

      if (typeof commands[raw] === 'function') {
        commands[raw]();
      } else {
        printUser(raw);
        print('Unknown command. Type "help" for instructions.');
      }
    }
  });

  // --------- Skip button ---------
  skipBtn.addEventListener('click', () => {
    outputEl.textContent = '';
    logEl.textContent += '\n> skip command received\n> bypassing initialization sequence';
    unlockSite(true);
  });

  // --------- Initialize ---------
  setTimeout(typeBoot, 400); // slight pause for realism
})();
</script>
<div id="heartbeat" aria-hidden="true"></div>
</body>
</html>
